<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/estilosform.css">
    <link rel="stylesheet" href="../css/proyecto.css">
    <link rel="stylesheet" href="../css/drag.css">
    <link rel="stylesheet" href="../css/sidebar.css">
    <!--? Iconos-->
    <script src="https://kit.fontawesome.com/e9304c4661.js" crossorigin="anonymous"></script>
    <title>Formulario de registro</title>
    <style>
        .arreglo {
            background-color: cyan;
        }
    </style>
</head>

<body>
    <div id="sidebar">
        <div class="toggle-btn">
            <span class="arreglo">&#9776</span>
        </div>
        <ul>
            <li>
                <img src="../img_body/unilog.jpg" alt="Logo Fazt" class="logo" width="100px" height="100px">
            </li>
            <a href="../html/canvas.html">
                <li>Canvas para editar foto</li>
            </a>
            <a href="../html/galeria.html">
                <li>Galería</li>
            </a>
            <a href="../html/index.html">
                <li>Volver</li>
            </a>
        </ul>
    </div>
    <script src="../js/main.js"></script>
    <main class="publicar--empleo">
        <section class="main__form">
            <form action="#" class="" enctype="multipart/form-data">
                <div class="form-file">
                    <div class="form-file__action">
                        <div class="divtitulo">
                            <h1 class="titulo-ejemplo3">Sube tu foto acá para el registro</h1>
                        </div>
                        <input type="file" name="image" id="image" />
                    </div>
                    <div class="form-file__result" id="result-image">
                        <img id="img-result" alt="" />
                    </div>
                </div>
                <div class="form-group">
                    <button type="submit" class="form-button">subir</button>
                </div>
                <div class="form-group">
                    <a href="../html/canvas.html"> Editar foto</a>
                </div>
                <script src="../js/draganddrop.js"></script>
            </form>
            <form action="">
                <main>
                    <section class="registrar">
                        <h4>Formulario</h4>
                        <input class="controls" type="text" onkeypress="return soloLetras(event)" onblur="limpia()"
                            id="miInput" placeholder="Ingresa tu nombre">
                        <input class="controls" type="text" onkeypress="return soloLetras(event)" onblur="limpia2()"
                            id="miInput2" placeholder="Ingresa tu apellido">
                        <input class="controls" type="mail" name="" id="correo" placeholder="ingrese su correo">
                        <input class="controls" type="password" name="" id="contraseña"
                            placeholder="ingrese su contraseña">
                        <p>Estoy de acuerdo con<a href="#">Terminos y condiciones</a></p>
                        <input id="btnadd" class="boton" type="submit" value="Registrar" onclick="return enviarformulario()">
                        <p><a href="login.html">Ya tengo una cuenta</a></p>
                    </section>
                </main>
            </form>
            <div class="lado" id="error"></div>
            <script src="../js/jvalida.js"> </script>
        </section>
        <div class="container-btn-flotante">
            <div class="btn-mas">
                <a for="btn-mas" class="fas fa-home fa-2x" href="../html/index.html"></a>
                </label>
            </div>
        </div>
    </main>
    <script>
        function soloLetras(e) {
            key = e.keyCode || e.which;
            tecla = String.fromCharCode(key).toLowerCase();
            letras = " áéíóúabcdefghijklmnñopqrstuvwxyz";
            especiales = [8, 37, 39, 46];

            tecla_especial = false
            for (var i in especiales) {
                if (key == especiales[i]) {
                    tecla_especial = true;
                    break;
                }
            }

            if (letras.indexOf(tecla) == -1 && !tecla_especial)
                return false;
        }

        function limpia() {
            var val = document.getElementById("miInput").value;
            var tam = val.length;
            for (i = 0; i < tam; i++) {
                if (!isNaN(val[i]))
                    document.getElementById("miInput").value = '';
            }
        }
        function limpia2() {
            var val = document.getElementById("miInput2").value;
            var tam = val.length;
            for (i = 0; i < tam; i++) {
                if (!isNaN(val[i]))
                    document.getElementById("miInput2").value = '';
            }
        }
        var nombre2 = document.getElementById("miInput");
        var apellido2 = document.getElementById("miInput2");
        var correo2 = document.getElementById("correo");
        var contraseña2 = document.getElementById("contraseña");
        var error = document.getElementById("error");
        error.style.color = "cyan";
        error.style.fontSize = "20px";
        error.style.fontFamily = "Algerian";
        function enviarformulario() {
            console.log("enviando formulario...");

            var mensajesError = [];
            if (nombre2.value === null || nombre2.value === "" || !isNaN(nombre2.value))//isNaN(nombre) || nombre.value="(/*)) ("(/*))")";
            {
                mensajesError.push("ingresa tu nombre, no se admiten numeros");
            }
            if (apellido2.value === null || apellido2.value === "" || !isNaN(apellido.value)) {
                mensajesError.push("ingresa tu apellido,no se admiten numeros");
            }
            if (correo2.value === null || correo2.value === "") {
                mensajesError.push("ingresa tu correo");
            }
            if (contraseña2.value === null || contraseña2.value === "") {
                mensajesError.push("ingresa tu contraseña");
            }

            error.innerHTML = mensajesError.join(", ");
            return false;
        }
        class Persona {
            constructor(_nombre, _apellido, _correo, _contraseña) {
                this.nombre = _nombre
                this.apellido = _apellido
                this.correo = _correo
                this.contraseña = _contraseña
            }
        }

        const nombre = document.querySelector(selectors = '#miInput')
        const apellido = document.querySelector(selectors = '#miInput2')
        const correo = document.querySelector(selectors = '#correo')
        const contraseña = document.querySelector(selectors = '#contraseña')
        const btnadd = document.querySelector(selectors = '#btnadd')

        btnadd.addEventListener(type = 'click', listener = () => {
            const persona = new Persona(nombre.value, apellido.value, correo.value, contraseña.value)
            addlocal(persona)
        })

        const addlocal = (persona => {
            localStorage.setItem('persona', JSON.stringify(persona))
        })
    </script>

</body>

</html>